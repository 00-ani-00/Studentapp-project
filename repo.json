pipeline {
    agent {
        node {
            label 'label1'
        }
    }
    stages {
        stage('Git Clone') {
            steps {
                sh 'git clone https://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@github.com/00-ani-00/pipeline-scripts.git'
                echo "Successfully completed Git clone stage"
            }
        }
        stage('Build') {
            steps {
                echo "Successfully built"  // Placeholder for your build steps
            }
        }
        stage('Test') {
            steps {
                echo "Successfully tested"  // Placeholder for your test steps
            }
        }
        stage('Download and Install Tomcat') {
            steps {
                sh '''
                
                wget https://dlcdn.apache.org/tomcat/tomcat-8/v8.5.93/bin/apache-tomcat-8.5.93.tar.gz

                tar -xzf apache-tomcat-8.5.93.tar.gz 


               sudo apt-get install maven -y

                sudo mvn clean 

                sudo mvn package 

               sudo mv target/studentapp-2.2-SNAPSHOT.war studentapp.war

               echo pwd

                sudo mv student.war apache-tomcat-8.5.93/webapps

                cd apache-tomcat-8.5.93/bin

                sudo /bin/catalina.sh start



                '''
            }
        }
        stage('Deploy') {
            steps {
                echo "Successfully deployed"  // Placeholder for your deployment steps
            }
        }
    }
}
